<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trạng thái đơn hàng người bán</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/oderstatus.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>
<style>
    body {
        background-color: #f8d7da;
        /* Màu nền nhẹ nhàng */
    }

    .navbar {
        background-color: #fff;
        /* Nền navbar trắng */
        padding: 10px 20px;
        /* Padding cho navbar */
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        /* Đổ bóng nhẹ cho navbar */
    }

    .navbar-brand img {
        max-height: 40px;
        /* Chiều cao tối đa cho logo */
    }

    .dropdown-toggle {
        padding: 8px 15px;
        /* Padding cho nút dropdown */
        margin-right: 15px;
        /* Khoảng cách bên phải */
        border: 1px solid transparent;
        /* Đường viền trong suốt */
        background-color: transparent;
        /* Nền trong suốt */
        color: #333;
        /* Màu chữ đen */
        transition: background-color 0.3s, color 0.3s;
        /* Hiệu ứng chuyển màu khi hover */
    }

    .dropdown-toggle:hover {
        background-color: #f8d7da;
        /* Màu nền khi hover */
        color: #000;
        /* Màu chữ đen khi hover */
    }

    .search-input {
        width: 400px;
        /* Chiều rộng cố định cho ô tìm kiếm */
        border-radius: 20px 0 0 20px;
        /* Bo góc trái */
        border: 1px solid #f8d7da;
        /* Đường viền màu hồng nhạt */
        padding: 10px;
        /* Padding cho input */
        transition: border 0.3s;
        /* Hiệu ứng chuyển khi border */
    }

    .search-input:focus {
        border-color: #ff7f7f;
        /* Đổi màu border khi focus */
        outline: none;
        /* Bỏ outline mặc định */
    }

    .search-button {
        border-radius: 0 20px 20px 0;
        /* Bo góc phải */
        background-color: #f8d7da;
        /* Màu hồng nhạt cho nút tìm kiếm */
        color: black;
        /* Màu chữ đen */
        padding: 10px 15px;
        /* Padding cho nút tìm kiếm */
        border: none;
        /* Bỏ viền */
        transition: background-color 0.3s;
        /* Hiệu ứng chuyển màu */
    }

    .search-button:hover {
        background-color: #ff7f7f;
        /* Màu hồng đậm hơn khi hover */
    }

    .nav-icons a {
        margin: 0 70px;
        /* Khoảng cách giữa các biểu tượng */
        color: black;
        /* Màu sắc đen cho biểu tượng */
        font-size: 24px;
        /* Kích thước biểu tượng */
        transition: color 0.3s;
        /* Hiệu ứng chuyển màu */
    }

    .nav-icons a:hover {
        color: #ff7f7f;
        /* Đổi màu khi hover */
    }

    .dropdown-menu {
        border-radius: 10px;
        /* Bo góc cho menu dropdown */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        /* Đổ bóng cho menu */
    }

    .dropdown-item {
        color: black;
        /* Màu chữ item */
        transition: background-color 0.3s;
        /* Hiệu ứng chuyển màu cho item */
    }

    .dropdown-item:hover {
        background-color: #f0f0f0;
        /* Màu nền khi hover trên item */
    }

    .dropdown-toggle img,
    .dropdown-item img {
        margin-right: 5px;
        /* Khoảng cách giữa hình ảnh cờ và chữ */
    }

    .order-status {
        padding: 5px 10px;
        border-radius: 5px;
        font-size: 14px;
        font-weight: bold;
    }

    /* Các trạng thái với màu nền riêng */
    .delivered {
        background-color: #4CAF50;
        /* Xanh lá cho đã giao hàng */
        color: white;
    }

    .shipped {
        background-color: #ff9999;
        /* Xanh dương cho đang giao hàng */
        color: white;
    }

    .processing {
        background-color: #ffccd5;
        /* Vàng cho yêu cầu xử lý */
        color: #ffffff;
    }

    .canceled {
        background-color: #dc3545;
        /* Đỏ cho yêu cầu hủy */
        color: white;
    }

    /* Màu nền trắng cho các ô không có trạng thái */
    .table tbody td {
        background-color: white;
        /* Màu trắng cho ô trống */
    }
</style>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <!-- Logo -->
            <a class="navbar-brand" href="#">
                <img src="https://via.placeholder.com/30x30" alt="Logo" width="30" height="30">
            </a>
            <!-- Toggle button for small screens -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <!-- Navbar items (left aligned) -->
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#!Trang chủ">Trang chủ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#!Thông báo">Thông báo</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#!Giỏ hàng">Giỏ hàng</a>
                    </li>
                </ul>
                <!-- Search Form (centered) -->
                <form class="d-flex mx-auto" role="search" style="width: 400px;">
                    <input class="form-control" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-danger" type="submit" style="margin-left: -1px;">
                        <i class="fas fa-search"></i> <!-- Icon search -->
                    </button>
                </form>
                <!-- Navbar items (right aligned) -->
                <ul class="navbar-nav ms-auto">

                    <li class="nav-item">
                        <a class="nav-link btn btn-outline-secondary me-2" href="#!Đăng nhập">Đăng nhập</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn btn-dark" href="#!Đăng ký">Đăng ký</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container mt-5">
        <h2 class="mb-4">Trang thái đơn hàng</h2>
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Mã đơn hàng</th>
                        <th>Ngày đặt hàng</th>
                        <th>Tên sản phẩm</th>
                        <th>Giá</th>
                        <th>Trạng thái</th>
                        <th>Hành động</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>12345</td>
                        <td>15/10/2024</td>
                        <td>Sách tâm lý học</td>
                        <td>100.000đ</td>
                        <td><span class="order-status delivered">Đã giao hàng</span></td>
                        <td>
                            <button class="btn btn-secondary"
                                onclick="showDetails('12345', 'Nguyễn Văn A', 'Đã thanh toán khi nhận hàng', 'Sách tâm lý học', '100.000đ', 'Tác giả A', 'NXB A', 'Nhà cung cấp A', 'images/hinh1.webp')">Xem</button>
                        </td>

                    </tr>
                    <tr>
                        <td>12344</td>
                        <td>1/10/2024</td>
                        <td>Sách học lập trình</td>
                        <td>200.000đ</td>
                        <td><span class="order-status shipped">Đang giao hàng</span></td>
                        <td>
                            <button class="btn btn-secondary"
                                onclick="showDetails('12344', 'Nguyễn Văn B', 'Đã thanh toán qua MoMo', 'Sách tâm lý ', '100.000đ', 'Tác giả A', 'NXB A', 'Nhà cung cấp A', 'images/hinh1.webp')">Xem</button>
                        </td>
                    </tr>
                    <tr>
                        <td>12343</td>
                        <td>1/10/2024</td>
                        <td>Sách học nấu ăn</td>
                        <td>200.000đ</td>
                        <td><span class="order-status processing">Yêu cầu xử lý</span></td>
                        <td><button class="btn btn-primary"
                                onclick="showProcessingDetails('12343', 'Trần Thị C', 'Thanh toán qua MOMO','Sách tâm lý ', '100.000đ', 'Tác giả A', 'NXB A', 'Nhà cung cấp A', 'images/hinh1.webp')">Duyệt</button>
                        </td>
                    </tr>

                    <tr>
                        <td>12343</td>
                        <td>1/10/2024</td>
                        <td>Sách học nấu ăn</td>
                        <td>200.000đ</td>
                        <td><span class="order-status canceled">Yêu cầu hủy</span></td>
                        <td><button class="btn btn-primary"
                                onclick="showCancelRequestDetails('12343', 'Nguyễn Văn A', 'Đã thanh toán', 'Hủy do không còn nhu cầu','Sách tâm lý ', '100.000đ', 'Tác giả A', 'NXB A', 'Nhà cung cấp A', 'images/hinh1.webp')">
                                Duyệt
                            </button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="orderDetailsModal" tabindex="-1" aria-labelledby="orderDetailsModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="orderDetailsModalLabel">Thông tin đơn hàng</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <img id="productImage" src="" alt="Product Image" class="img-fluid mt-3"
                        style="max-width: 100px; height: auto;">
                    <p><strong>Mã đơn hàng:</strong> <span id="orderId"></span></p>
                    <p><strong>Người nhận:</strong> <span id="recipientName"></span></p>
                    <p><strong>Tình trạng thanh toán:</strong> <span id="paymentStatus"></span></p>
                    <p><strong>Tên sản phẩm:</strong> <span id="productName"></span></p>
                    <p><strong>Giá:</strong> <span id="productPrice"></span></p>
                    <p><strong>Tác giả:</strong> <span id="authorName"></span></p>
                    <p><strong>Nhà xuất bản:</strong> <span id="publisherName"></span></p>
                    <p><strong>Nhà cung cấp:</strong> <span id="supplierName"></span></p>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal xử lý đơn hàng -->
    <div class="modal fade" id="processingModal" tabindex="-1" aria-labelledby="processingModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="processingModalLabel">Chi tiết yêu cầu xử lý</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <img id="modalProductImage" src="" alt="Product1 Image" class="img-fluid mt-3"
                        style="max-width: 100px; height: auto;">
                    <p><strong>Mã đơn hàng:</strong> <span id="modalOrderId"></span></p>
                    <p><strong>Tên người nhận:</strong> <span id="modalRecipientName"></span></p>
                    <p><strong>Phương thức thanh toán:</strong> <span id="modalPaymentMethod"></span></p>
                    <p><strong>Tên sản phẩm:</strong> <span id="modalProductName"></span></p>
                    <p><strong>Giá:</strong> <span id="modalProductPrice"></span></p>
                    <p><strong>Tác giả:</strong> <span id="modalAuthorName"></span></p>
                    <p><strong>Nhà xuất bản:</strong> <span id="modalPublisherName"></span></p>
                    <p><strong>Nhà cung cấp:</strong> <span id="modalSupplierName"></span></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                    <button type="button" class="btn btn-primary" onclick="approveRequest()">Duyệt</button>
                    <button type="button" class="btn btn-danger" onclick="denyRequest()">Từ chối</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal Yêu Cầu Hủy -->
    <div class="modal fade" id="cancelRequestModal" tabindex="-1" aria-labelledby="cancelRequestModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cancelRequestModalLabel">Thông tin yêu cầu hủy</h5>
                    <button type="button" class="btn-close" aria-label="Close" data-bs-dismiss="modal">
                        <span>&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <img id="modal1ProductImage" src="" alt="Product2 Image" class="img-fluid mt-3"
                        style="max-width: 100px; height: auto;">
                    <p><strong>Mã đơn hàng:</strong> <span id="cancelOrderId"></span></p>
                    <p><strong>Người nhận:</strong> <span id="cancelRecipientName"></span></p>
                    <p><strong>Tình trạng thanh toán:</strong> <span id="cancelPaymentStatus"></span></p>
                    <p><strong>Lý do hủy:</strong> <span id="cancelReason"></span></p>
                    <p><strong>Tên sản phẩm:</strong> <span id="cancelProductName"></span></p>
                    <p><strong>Giá:</strong> <span id="cancelProductPrice"></span></p>
                    <p><strong>Tác giả:</strong> <span id="cancelAuthorName"></span></p>
                    <p><strong>Nhà xuất bản:</strong> <span id="cancelPublisherName"></span></p>
                    <p><strong>Nhà cung cấp:</strong> <span id="cancelSupplierName"></span></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="approveCancelBtn"
                        onclick="approveCancel()">Duyệt</button>
                    <button type="button" class="btn btn-danger" id="rejectCancelBtn" onclick="rejectCancel()">Từ
                        chối</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer -->
    <footer class="bg-light py-4 mt-5">
        <div class="container text-center">
            <p>© 2024 THEGIOISACH. Bản quyền thuộc về công ty THEGIOISACH.</p>
        </div>
    </footer>
    <script>
        let currentOrderId = ""; // Biến để lưu mã đơn hàng hiện tại
        let currentCancelOrderId = ""; // Biến để lưu mã đơn hàng hủy hiện tại

        // Hàm hiển thị thông tin đơn hàng
        function showDetails(orderId, recipientName, paymentStatus, productName, productPrice, authorName, publisherName, supplierName, productImage) {
            document.querySelector('#orderId').innerText = orderId;
            document.querySelector('#recipientName').innerText = recipientName;
            document.querySelector('#paymentStatus').innerText = paymentStatus;
            document.querySelector('#productName').innerText = productName;
            document.querySelector('#productPrice').innerText = productPrice;
            document.querySelector('#authorName').innerText = authorName;
            document.querySelector('#publisherName').innerText = publisherName;
            document.querySelector('#supplierName').innerText = supplierName;
            document.querySelector('#productImage').src = productImage;

            // Mở modal thông tin đơn hàng
            const orderDetailsModal = new bootstrap.Modal(document.getElementById('orderDetailsModal'));
            orderDetailsModal.show();
        }

        // Hàm hiển thị thông tin yêu cầu xử lý
        function showProcessingDetails(orderId, recipientName, paymentMethod, productName, productPrice, authorName, publisherName, supplierName, productImage) {
            currentOrderId = orderId; // Lưu mã đơn hàng hiện tại
            document.querySelector('#modalOrderId').innerText = orderId;
            document.querySelector('#modalRecipientName').innerText = recipientName;
            document.querySelector('#modalPaymentMethod').innerText = paymentMethod;
            document.querySelector('#modalProductName').innerText = productName;
            document.querySelector('#modalProductPrice').innerText = productPrice;
            document.querySelector('#modalAuthorName').innerText = authorName;
            document.querySelector('#modalPublisherName').innerText = publisherName;
            document.querySelector('#modalSupplierName').innerText = supplierName;
            document.querySelector('#modalProductImage').src = productImage;

            // Mở modal yêu cầu xử lý
            const processingModal = new bootstrap.Modal(document.getElementById('processingModal'));
            processingModal.show();
        }

        // Hàm duyệt yêu cầu
        function approveRequest() {
            console.log(`Đơn hàng ${currentOrderId} đã được duyệt`);
            alert(`Đơn hàng ${currentOrderId} đã được duyệt thành công.`);
            const processingModal = bootstrap.Modal.getInstance(document.getElementById('processingModal'));
            processingModal.hide();
        }

        // Hàm từ chối yêu cầu
        function denyRequest() {
            console.log(`Đơn hàng ${currentOrderId} đã bị từ chối`);
            alert(`Đơn hàng ${currentOrderId} đã từ chối thành công.`);
            const processingModal = bootstrap.Modal.getInstance(document.getElementById('processingModal'));
            processingModal.hide();
        }

        // Hàm hiển thị thông tin yêu cầu hủy
        function showCancelRequestDetails(orderId, recipientName, paymentStatus, cancelReason, productName, productPrice, authorName, publisherName, supplierName, productImage) {
            currentCancelOrderId = orderId; // Lưu mã đơn hàng hủy hiện tại
            document.querySelector('#cancelOrderId').innerText = orderId;
            document.querySelector('#cancelRecipientName').innerText = recipientName;
            document.querySelector('#cancelPaymentStatus').innerText = paymentStatus;
            document.querySelector('#cancelReason').innerText = cancelReason;
            document.querySelector('#cancelProductName').innerText = productName;
            document.querySelector('#cancelProductPrice').innerText = productPrice;
            document.querySelector('#cancelAuthorName').innerText = authorName;
            document.querySelector('#cancelPublisherName').innerText = publisherName;
            document.querySelector('#cancelSupplierName').innerText = supplierName;
            document.querySelector('#modal1ProductImage').src = productImage;

            // Mở modal yêu cầu hủy
            const cancelRequestModal = new bootstrap.Modal(document.getElementById('cancelRequestModal'));
            cancelRequestModal.show();
        }

        // Hàm duyệt yêu cầu hủy
        function approveCancel() {
            console.log(`Đơn hàng ${currentCancelOrderId} đã được duyệt hủy.`);
            alert(`Đơn hàng ${currentCancelOrderId} đã được duyệt hủy thành công.`);
            const cancelRequestModal = bootstrap.Modal.getInstance(document.getElementById('cancelRequestModal'));
            cancelRequestModal.hide(); // Đóng modal
        }

        // Hàm từ chối yêu cầu hủy
        function rejectCancel() {
            console.log(`Đơn hàng ${currentCancelOrderId} đã bị từ chối hủy.`);
            alert(`Đơn hàng ${currentCancelOrderId} đã bị từ chối hủy thành công.`);
            const cancelRequestModal = bootstrap.Modal.getInstance(document.getElementById('cancelRequestModal'));
            cancelRequestModal.hide(); // Đóng modal
        }

    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>