<style>
    .modal-body {
        background-color: #f8f9fa;
        border-radius: 5px;
        padding: 20px;
    }
    .modal-title {
        font-weight: bold;
        font-size: 1.5rem;
    }
    .form-label {
        font-weight: bold;
    }
    .form-control[readonly] {
        background-color: #e9ecef;
        border: none;
        font-size: 1rem;
    }
    .info-icon {
        margin-right: 5px;
        color: #0d6efd;
    }
</style>
<div class="container mt-5">
    <h2 class="text-center mb-4">Quản Lý Tài Khoản Người Dùng</h2>

    <!-- User Table -->
    <table class="table table-bordered table-hover">
        <thead class="table-dark text-center">
        <tr>
            <th>ID</th>
            <th>Tên Người Dùng</th>
            <th>Email</th>
            <th>Ngày Đăng Ký</th>
            <th>Hành Động</th>
        </tr>
        </thead>
        <tbody id="userTableBody">
        <!-- Dữ liệu sẽ được chèn ở đây bởi JavaScript -->
        </tbody>
    </table>
</div>

<!-- Modal for User Details -->
<div class="modal fade" id="userDetailModal" tabindex="-1" aria-labelledby="userDetailModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="userDetailModalLabel">Thông tin chi tiết</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="userDetailBody">
                <!-- Thông tin chi tiết người dùng sẽ được hiển thị tại đây -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
            </div>
        </div>
    </div>
</div>

<!--<script>-->
<!--    async function loadUsers() {-->
<!--        try {-->
<!--            const response = await fetch('/api/taikhoan');-->
<!--            const users = await response.json();-->

<!--            const tbody = document.getElementById('userTableBody');-->
<!--            tbody.innerHTML = ''; // Xóa dữ liệu cũ-->

<!--            users.forEach(user => {-->
<!--                const row = `-->
<!--                    <tr>-->
<!--                        <td class="text-center">${user.id || user.idKhachHang || user.idNguoiBan}</td>-->
<!--                        <td>${user.ten || user.hoTen}</td>-->
<!--                        <td>${user.email}</td>-->
<!--                        <td class="text-center">${user.ngayDangKi}</td>-->
<!--                        <td class="text-center">-->
<!--                            <button class="btn btn-info btn-sm" onclick="viewUserDetail(${user.id || user.idKhachHang || user.idNguoiBan})" data-bs-toggle="modal" data-bs-target="#userDetailModal">-->
<!--                                <i class="bi bi-eye-fill"></i> Xem Chi Tiết-->
<!--                            </button>-->
<!--                        </td>-->
<!--                    </tr>-->
<!--                `;-->
<!--                tbody.innerHTML += row;-->
<!--            });-->
<!--        } catch (error) {-->
<!--            console.error('Lỗi khi tải danh sách người dùng:', error);-->
<!--        }-->
<!--    }-->

<!--    async function viewUserDetail(userId) {-->
<!--        try {-->
<!--            const response = await fetch(`/api/taikhoan/${userId}`);-->
<!--            const user = await response.json();-->

<!--            const modalBody = document.getElementById('userDetailBody');-->
<!--            modalBody.innerHTML = `-->
<!--                <p><strong>ID:</strong> ${user.id || user.idKhachHang || user.idNguoiBan}</p>-->
<!--                <p><strong>Tên Người Dùng:</strong> ${user.ten || user.hoTen}</p>-->
<!--                <p><strong>Email:</strong> ${user.email}</p>-->
<!--                <p><strong>Số Điện Thoại:</strong> ${user.sdt}</p>-->
<!--                <p><strong>Ngày Đăng Ký:</strong> ${user.ngayDangKi}</p>-->
<!--                <p><strong>Địa Chỉ:</strong> ${user.diaChi}</p>-->
<!--            `;-->
<!--        } catch (error) {-->
<!--            console.error('Lỗi khi tải thông tin chi tiết người dùng:', error);-->
<!--        }-->
<!--    }-->

<!--    window.onload = loadUsers;// Global variable to store users-->
<!--    let users = [];-->

<!--    // Function to load users from the API-->
<!--    async function loadUsers() {-->
<!--        try {-->
<!--            const response = await fetch('/api/taikhoan');-->
<!--            if (!response.ok) {-->
<!--                throw new Error('Network response was not ok');-->
<!--            }-->
<!--            users = await response.json(); // Store users in the global variable-->

<!--            updateUserTable();-->
<!--        } catch (error) {-->
<!--            console.error('Lỗi khi tải danh sách người dùng:', error);-->
<!--        }-->
<!--    }-->

<!--    // Function to update the user table-->
<!--    function updateUserTable() {-->
<!--        const tbody = document.getElementById('userTableBody');-->
<!--        tbody.innerHTML = ''; // Clear old data-->

<!--        users.forEach(user => {-->
<!--            const row = `-->
<!--            <tr>-->
<!--                <td class="text-center">${user.id || user.idKhachHang || user.idNguoiBan}</td>-->
<!--                <td>${user.ten || user.hoTen}</td>-->
<!--                <td>${user.email}</td>-->
<!--                <td class="text-center">${user.ngayDangKi}</td>-->
<!--                <td class="text-center">-->
<!--                    <button class="btn btn-info btn-sm" onclick="viewUserDetail(${user.id || user.idKhachHang || user.idNguoiBan})" data-bs-toggle="modal" data-bs-target="#userDetailModal">-->
<!--                        <i class="bi bi-eye-fill"></i> Xem Chi Tiết-->
<!--                    </button>-->
<!--                </td>-->
<!--            </tr>-->
<!--        `;-->
<!--            tbody.innerHTML += row;-->
<!--        });-->
<!--    }-->

<!--    // Function to view user detail in a modal-->
<!--    async function viewUserDetail(userId) {-->
<!--        const user = users.find(u => u.id === userId || u.idKhachHang === userId || u.idNguoiBan === userId);-->

<!--        if (user) {-->
<!--            const modalBody = document.getElementById('userDetailBody');-->
<!--            modalBody.innerHTML = `-->
<!--            <p><strong>ID:</strong> ${user.id || user.idKhachHang || user.idNguoiBan}</p>-->
<!--            <p><strong>Tên Người Dùng:</strong> ${user.ten || user.hoTen}</p>-->
<!--            <p><strong>Email:</strong> ${user.email}</p>-->
<!--            <p><strong>Số Điện Thoại:</strong> ${user.sdt}</p>-->
<!--            <p><strong>Ngày Đăng Ký:</strong> ${user.ngayDangKi}</p>-->
<!--            <p><strong>Địa Chỉ:</strong> ${user.diaChi}</p>-->
<!--        `;-->
<!--        } else {-->
<!--            console.error('Người dùng không tìm thấy!');-->
<!--        }-->
<!--    }-->

<!--    // Call loadUsers only when navigating to the user management page-->
<!--    loadUsers();-->

<!--</script>-->
